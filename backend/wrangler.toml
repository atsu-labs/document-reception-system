name = "document-reception-system-backend"
main = "src/index.ts"
compatibility_date = "2025-01-01"
compatibility_flags = ["nodejs_compat"]

# Cloudflare Workers configuration
[observability]
enabled = true

# D1 Database binding
# 
# To set up D1 database:
# 1. Create D1 database: wrangler d1 create document-reception-db
# 2. Update database_id below with the actual ID
# 3. Apply migrations: wrangler d1 migrations apply document-reception-db --remote
#
[[d1_databases]]
binding = "DB"
database_name = "document-reception-system"
database_id = "3604ca46-f85e-443b-8352-db6e7de21a58"
migrations_dir = "drizzle/migrations"
#
# Migration commands:
#   wrangler d1 migrations apply document-reception-db --local   # Test locally
#   wrangler d1 migrations apply document-reception-db --remote  # Apply to production

# Environment variables
[vars]
NODE_ENV = "development"

# Local development configuration
[env.dev]
vars = { NODE_ENV = "development" }

# Production configuration
[env.production]
vars = { NODE_ENV = "production" }
